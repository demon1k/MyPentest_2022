#!/bin/bash
echo "
 _____
|  _ \__      ___ __
| |_) \ \ /\ / / '_ \\
|  __/ \ V  V /| | | |
|_|     \_/\_/ |_| |_|v1.1

"

echo "Starting KnockPy"
for URL in $(<sub_manually); do knockpy "${URL}" ; done

echo "Starting subfinder..."
subfinder -dL sub_manually -silent -all -o sub_subfinder

echo "Starting github-subdomains..."
for URL in $(<sub_manually); do gitsubs "${URL}" ; done

echo "Starting waybackurls..."
cat sub_manually | waybackurls | unfurl domains >> sub_waybackurls 

echo "Starting gau..."
for URL in $(<sub_manually); do gau -subs "${URL}" -b png,jpg,gif,jpeg,swf,woff,gif,svg | unfurl domains >> sub_gau_$URL ; done

echo "Starting Amass..."
for URL in $(<sub_manually); do amass enum -d $URL -passive -norecursive -noalts -o sub_amass_$URL; done

echo "Starting Sublist3r..."
for URL in $(<sub_manually); do sublist3rs "${URL}"; done

cat sub_sublist3r_* | sort -u | uniq >> sub_sublist3r ; sudo rm -rf sub_sublist3r_*

cat sub_amass_* sub_subfinder sub_waybackurls sub_github_* sub_sublist3r sub_gau_*  | sort -u | uniq >> temp_all ; httpx -l temp_all >> subdomains ; rm -rf sub_amass_* sub_subfinder sub_waybackurls sub_github_* sub_sublist3r sub_gau_*

notify -data subdomains -bulk -provider discord

